data:
  format: "brainvision"                   # Brain Products file triplet
  root: "C:/Users/brodi/PHD/EEG_study_2/eeg_pipeline/raw"
  pattern: "sub-*_block*-task.vhdr"      # we will write .vhdr + .vmrk + .eeg

montage: "standard_1020"                 # 10-20 names like Fz, Pz, Oz

blocks: [1, 5]                           # Blocks to compare (baseline vs fatigued)

behavioral_data: null                    # Path to d' CSV — set when available

filters:
  hp: 0.1
  lp: 120.0
  notch: 50.0

ica:
  do_ica: true
  n_components: 25
  eog_channels: []                 # put your EOG labels here if you have them

epochs:
  # Stimulus-locked epochs (P3b analysis)
  p3b:
    tmin: -0.2
    tmax: 0.8
    baseline: [-0.2, 0.0]
  # Stimulus-offset-locked epochs (PAC/theta, maintenance period)
  pac:
    tmin: 0.0                      # relative to Trigger 2 (stimulus offset)
    tmax: 1.0                      # 1 s maintenance window
    baseline: null

# Spectral parameterisation (specparam / FOOOF)
specparam:
  freq_range: [1, 30]
  peak_width_limits: [1, 8]
  max_n_peaks: 6
  min_peak_height: 0.1

# Phase-amplitude coupling
pac:
  phase_band: [4, 8]               # theta phase
  amp_band: [55, 85]               # high gamma amplitude
  surrogates: 200
  trim: 0.10                       # 10% trimmed mean

# 9-node structure (64-channel actiCAP layout)
nodes:
  LF: ['F7', 'F3', 'FC5']
  CF: ['Fz', 'FCz', 'Cz']
  RF: ['F8', 'F4', 'FC6']
  LC: ['T7', 'C3', 'CP5']
  C:  ['Cz', 'CPz']
  RC: ['T8', 'C4', 'CP6']
  LP: ['P7', 'P3', 'PO7']
  CP: ['Pz', 'POz']
  RP: ['P8', 'P4', 'PO8']

# Regional aggregation (3 regions for inferential models)
regions:
  Frontal: ['LF', 'CF', 'RF']
  Central: ['LC', 'C', 'RC']
  Parietal: ['LP', 'CP', 'RP']

# Resting-state recordings (eyes-closed, ~3 min each)
# Pre-fatigue rest recorded BEFORE the 45-min WAND induction
# Post-fatigue rest recorded AFTER the induction
# These are separate .vhdr files, not extracted from task blocks
rest:
  pattern: "sub-*_rest-*.vhdr"      # e.g. sub-001_rest-pre.vhdr, sub-001_rest-post.vhdr
  fallback_to_block_raw: true        # If no rest file found, use block ASR raw as proxy

  # IAF extraction settings (from posterior channels)
  iaf:
    channels: ["Oz", "O1", "O2", "POz", "PO3", "PO4", "PO7", "PO8"]
    band: [6.0, 14.0]
    welch_win: 4.0

  # Individual Theta Frequency (ITF) — task-related, from maintenance epochs
  # (NOT from rest — extracted in 12_peak_frequencies.py from PAC epochs)
  theta:
    channel: "Fz"
    band: [3.0, 9.0]
